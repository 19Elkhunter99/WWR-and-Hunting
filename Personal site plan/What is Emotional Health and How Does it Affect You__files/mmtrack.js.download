/* repo: webmd-legacy-dynamic-links/@ - Package Version: 1.5.0 - 2023-10-13 04:28 pm - User:  */
let track=function(e){try{let a,t=new URL(e.href),r=t.searchParams.get("mmtrack"),c=t.searchParams.get("mmtest"),s=r.split("-")[0],n=r.split("-")[1],o=r.split("-")[2],d=r.split("-")[3],i=r.split("-")[4],m=r.split("-")[5],w=r.split("-")[6],p=window.s_topic||!1,l=window.center_id||!1,h=document.cookie.split(";").find(e=>e.includes("gtinfo"));h=!!h&&JSON.parse(h.split("=")[1]);let f=window.innerWidth<467?"mobile":"desktop";if((a=document.location.href.includes("qa.webmd.com")||document.location.href.includes("qa01.webmd.com")||document.location.href.includes("qa00")||document.location.href.includes("qa.vitals.com")?new URL("https://www.qa.webmd.com/mm/track"):document.location.href.includes("devint.webmd.com")||document.location.href.includes("devint.vitals.com")?new URL("https://www.devint.webmd.com/mm/track"):document.location.href.includes("staging.webmd.com")?new URL("https://www.staging.webmd.com/mm/track"):new URL("https://www.webmd.com/mm/track")).searchParams.append("cid",s),a.searchParams.append("vid",n),a.searchParams.append("m",o),a.searchParams.append("s",d),a.searchParams.append("ts",i),a.searchParams.append("ref",document.location.href.split("//")[1]),a.searchParams.append("dv",f),a.searchParams.append("pos",w),window.busref_id&&""!==window.busref_id&&a.searchParams.append("br",window.busref_id),"0"!==m&&a.searchParams.append("sp",m),l&&a.searchParams.append("ch",l),p&&a.searchParams.append("tp",p),h&&(h.cntr&&a.searchParams.append("cntr",h.cntr.toLowerCase()),h.st&&a.searchParams.append("st",h.st.toLowerCase()),a.searchParams.append("dma",h.dma)),t.searchParams.delete("mmtrack"),t.searchParams.delete("mmtest"),c)return void(window.location.href=t.href);fetch(a).then(()=>{window.location.href=t.href}).catch(()=>{window.location.href=t.href})}catch(a){window._satellite?window._satellite.logger.error("MM Tracking Error",a):console.warn("MM Tracking Error",a),window.location.href=e.href}};document.addEventListener("click",e=>{let a=e.target.closest("a");a&&a.href.includes("mmtrack=")&&(e.preventDefault(),track(a))});