window.optiCommon=function(o){var e={};function r(n){var t;return(e[n]||(t=e[n]={i:n,l:!1,exports:{}},o[n].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}return r.m=o,r.c=e,r.d=function(n,t,o){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"u",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.u)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)r.d(o,e,function(n){return t[n]}.bind(null,e));return o},r.n=function(n){var t=n&&n.u?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=1)}([function(n,t){n.exports={USN_NEWS_SAFARI_FIREFOX:"17",liveAudiencesMatches:[]}},function(n,t,o){n.exports=o(2)},function(n,t,o){"use strict";o.r(t),o.d(t,"overrideOptimeraParamValue",function(){return y}),o.d(t,"getOptimeraParams",function(){return j}),o.d(t,"setCustomParam",function(){return h}),o.d(t,"getCustomParamValue",function(){return g}),o.d(t,"getAllCustomParams",function(){return T}),o.d(t,"getAllParams",function(){return P}),o.d(t,"getSplitters",function(){return C}),o.d(t,"getSplitterString",function(){return O}),o.d(t,"getSplitterScores",function(){return S}),o.d(t,"init",function(){return b}),o.d(t,"audience",function(){return e});var e={},r=(o.r(e),o.d(e,"config",function(){return f}),o.d(e,"getCookie",function(){return l}),o.d(e,"init",function(){return d}),o.d(e,"getTargeting",function(){return p}),{os:"other",browser:"other",browserVersion:"other",type:"mo",mobilePlatform:"other",country:"n/a"});function i(){var n,t="",o=!0;return window&&window.navigator&&window.navigator.userAgent?((t=window.navigator.userAgent).match(/win/i)?r.os="windows":t.match(/mac/i)?r.os="mac":t.match(/linux/i)&&!t.match(/android/i)?r.os="linux":t.match(/android/i)&&(r.os="android"),"maxTouchPoints"in navigator?o=0!==navigator.maxTouchPoints:"msMaxTouchPoints"in navigator&&(o=0!==navigator.msMaxTouchPoints),o||(r.type="de"),o&&t.includes("Windows")&&(r.os="windows",r.type="de"),t.includes("iPhone")&&(r.os="ios"),t.includes("iPad")&&(r.os="ios",r.type="tb",r.mobilePlatform="ipad"),"mo"===r.type&&(t.includes("iPhone")&&(r.mobilePlatform="iphone"),t.includes("Android"))&&(r.mobilePlatform="android-mo"),"de"===r.type&&(r.mobilePlatform="n/a"),o=navigator.userAgent,o="Chrome"===(t=o.match(/(opera|chrome|safari|firefox|msie(?=\/))\/?\s*(\d+)/i)||[])[1]&&null!=(n=o.match(/\b(OPR|Edge)\/(\d+)/))?{name:n[1].replace("OPR","Opera"),version:n[2]}:(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(n=o.match(/version\/(\d+)/i))&&t.splice(1,1,n[1]),{name:t[0],version:t[1]}),r.browser=o.name,r.browserVersion=o.version,r.country=function(){var n="other";try{n=Intl.DateTimeFormat().resolvedOptions().locale.toLocaleLowerCase()}catch(n){}return n}()):r=!1,r}var a=o(0),u=window.location,c=!1;try{c=i()}catch(n){}var s=function(){var o,n=a.USN_NEWS_SAFARI_FIREFOX,t="".concat(u.hostname).concat(u.pathname),e=!1;["health.usnews.com/doctors","health.usnews.com/best-hospitals","money.usnews.com/financial-advisors","www.usnews.com/best-colleges"].some(function(n){if(t.includes(n))return!0})||(t.includes("usnews.com/news")&&(e=!0),c&&("Chrome"===c.browser&&(e=!0),"Firefox"===c.browser&&(e=!0),"Safari"!==c.browser||["12","13","14"].includes(c.browserVersion)||(e=!0))),e&&(a.liveAudiencesMatches.push(n),o=Number(new Date)+2e3,function n(){var t;window.googletag&&window.googletag.cmd?(t=window.googletag).cmd.push(function(){!function n(){0<t.pubads().getSlots().length?t.pubads().getSlots().forEach(function(n){"div-1"===n.getSlotElementId()&&n.setTargeting("opti_split_slot","NEW VALUE")}):setTimeout(n,250)}()}):Number(new Date)<o&&setTimeout(n,250)}())};var f={},m={data:{}},l=(m.data.parsed={},m.data.parsedArray=[],m.data.targeting=[],f.minimumCounter=0,f.minimumAudienceCounter=0,f.minimumPropensity=0,f.maximumAudiencesPassThrough=10,f.audienceSortBy="propensity",function(n){for(var t="".concat(n,"="),o=document.cookie.split(";"),e=0;e<o.length;e+=1){for(var r=o[e];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(n))return r.substring(t.length,r.length)}return!1}),d=function(){s();var n=l("oaudjs");if(!n)return!1;try{m.data.parsed=JSON.parse(n),m.data.parsed.counter>=f.minimumCounter&&(m.data.parsedArray=Object.keys(m.data.parsed.audiences).map(function(n){var t=m.data.parsed.audiences[n].count,o=m.data.parsed.audiences[n].propensity;if(t>=f.minimumAudienceCounter&&o>=f.minimumPropensity)return[n,m.data.parsed.audiences[n][f.audienceSortBy]]}),m.data.parsedArray.sort(function(n,t){return t[1]-n[1]}),m.data.parsedArray.slice(0,f.maximumAudiencesPassThrough),m.data.targeting=Object.keys(m.data.parsedArray).map(function(n){return m.data.parsedArray[n][0]}))}catch(n){}return m.data.targeting=m.data.targeting.concat(a.liveAudiencesMatches),!0},p=function(){return m.data.targeting};function v(n){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var w={splitters:{conf:{optimeraDefault:["deviceType","os","browser","mobilePlatform"],optimeraAdditional:[],custom:[]},data:{optimera:{},custom:{}}},optimeraParams:{os:"other",browser:"other",browserVersion:"other",deviceType:"mobile",mobilePlatform:"other",country:"other"},customParams:[]};var b=function(n){try{var t=i();w.optimeraParams.os=t.os,w.optimeraParams.browser=t.browser,w.optimeraParams.browserVersion=t.browserVersion,w.optimeraParams.deviceType=t.type,w.optimeraParams.mobilePlatform=t.mobilePlatform,w.optimeraParams.country=t.country,w.splitters.conf.optimeraAdditional=n.splitters.additionalOptimeraParams,w.splitters.conf.custom=n.splitters.customParams,w.splitters.conf.optimeraDefault.forEach(function(n){w.splitters.data.optimera[n]=w.optimeraParams[n]}),w.splitters.conf.optimeraAdditional.forEach(function(n){w.optimeraParams[n]?w.splitters.data.optimera[n]=w.optimeraParams[n]:console.warn('The Optimera splitter param: "',n,'" was configured in optiCommon.init(), but is not a valid parameter. Valid parameters are: ',Object.keys(w.optimeraParams).join(", "))})}catch(n){}},h=function(n){var t;try{return n.type,t="splitters","string"!=typeof n.value&&"number"!=typeof n.value?(console.warn('The Custom param value for: "',n.name,'" must be a string or number in optiCommon.setCustomParam(),',v(n.value),"given"),!1):(w[t].conf.custom.includes(n.name)?(w.customParams.push(n),w[t].data.custom[n.name]=n.value):console.warn('The Custom param: "',n.name,'" was not configured in optiCommon.init(), therefore a value cannot be set.'),!0)}catch(n){console.log(n)}},y=function(n,t){try{w.optimeraParams[n]?(w.optimeraParams[n]=t,w.splitters.data.optimera[n]&&(w.splitters.data.optimera[n]=t)):console.warn('The Optimera param: "',n,'" does not exist, therefore a value cannot be overridden with optiCommon.overrideOptimeraParamValue().')}catch(n){console.log(n)}},g=function(n,t){var o;try{if(w[o="splitters"].data.custom[n])return w[o].data.custom[n];console.warn('The Custom param: "',n,'" for the type:',t,"does not exist.")}catch(n){console.log(n)}},P=function(){return{optimeraParams:w.optimeraParams,customParams:w.customParams}},O=function(){try{var n=w.splitters.conf.custom.map(function(n){var t="n/a";return w.splitters.data.custom[n]?t=w.splitters.data.custom[n]:console.warn('The Custom splitter param: "',n,'" was configured in optiCommon.init(), but no value was assigned. The value "n/a" will be used.'),t});return Object.values(w.splitters.data.optimera).concat(n).join("_")}catch(n){console.log(n)}},S=function(){var n={};try{var t=O(),n=window.oVa;"string"==typeof t&&"object"===v(window.oVa.device)&&"object"===v(window.oVa.device[t])&&(n=window.oVa.device[t])}catch(n){console.log(n)}return n},C=function(){return w.splitters},j=function(){return w.optimeraParams},T=function(){return w.customParams}}]);